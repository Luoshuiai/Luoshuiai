[{"content":"çŸ¥ç½‘é“¾æ¥  æ–°ç‰ˆçŸ¥ç½‘é“¾æ¥ï¼š  https://kns.cnki.net/kns8/defaultresult/index?txt_1_sel=SU%24%25%3D%7C\u0026amp;kw={query} 1 https://kns.cnki.net/KNS8/DefaultResult/Index?dbcode=SCDB\u0026amp;kw={query}\u0026amp;korder=SU 2 ä¸¤ä¸ªé“¾æ¥å†…å®¹æœ‰å·®åˆ«ï¼Œè‡ªå·±é€‰æ‹©åˆé€‚çš„   æ—§ç‰ˆçŸ¥ç½‘é“¾æ¥  https://epub.cnki.net/kns/brief/default_result.aspx?txt_1_sel=FT%24%25%3D|\u0026amp;txt_1_value1={query}\u0026amp;txt_1_special1=%25\u0026amp;txt_extension=\u0026amp;expertvalue=\u0026amp;cjfdcode=%C2%A4tid=txt_1_value1\u0026amp;dbJson=coreJson\u0026amp;dbPrefix=SCDB\u0026amp;db_opt=CJFQ%2CCJFN%2CCDFD%2CCMFD%2CCPFD%2CIPFD%2CCCND%2CCCJD%2CHBRD\u0026amp;db_value=\u0026amp;hidTabChange=\u0026amp;hidDivIDS=\u0026amp;singleDB=SCDB\u0026amp;db_codes=\u0026amp;singleDBName=\u0026amp;againConfigJson=false\u0026amp;action=scdbsearch\u0026amp;ua=1.11 3 https://kns.cnki.net/kns/brief/default_result.aspx?txt_1_sel=SU%24%25%3d%7C\u0026amp;txt_1_value1={query}\u0026amp;txt_1_special1=%25\u0026amp;txt_extension=\u0026amp;expertvalue=\u0026amp;cjfdcode=\u0026amp;currentid=txt_1_value1\u0026amp;dbJson=coreJson\u0026amp;dbPrefix=SCDB\u0026amp;db_opt=CJFQ%2CCJFN%2CCDFD%2CCMFD%2CCPFD%2CIPFD%2CCCND%2CCCJD%2CHBRD\u0026amp;db_value=\u0026amp;hidTabChange=\u0026amp;hidDivIDS=\u0026amp;singleDB=SCDB\u0026amp;db_codes=\u0026amp;singleDBName=\u0026amp;againConfigJson=false\u0026amp;action=scdbsearch\u0026amp;ua=1.11 4 ä¸¤ä¸ªé“¾æ¥å†…å®¹æœ‰å·®åˆ«ï¼Œè‡ªå·±é€‰æ‹©åˆé€‚çš„      æŸäº›ç½‘ç«™ï¼ˆä¾‹å¦‚çŸ¥ç½‘ï¼‰ï¼Œæ— è®ºæœç´¢ä»€ä¹ˆï¼Œåœ°å€æ URLéƒ½ä¸ä¼šå˜åŒ–ï¼Œè¯·é—®å¦‚ä½•æ‰¾åˆ°çœŸå®çš„æœç´¢URLåœ°å€ï¼Ÿ - è€é»˜çš„å›ç­” - çŸ¥ä¹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n æŸäº›ç½‘ç«™ï¼ˆä¾‹å¦‚çŸ¥ç½‘ï¼‰ï¼Œæ— è®ºæœç´¢ä»€ä¹ˆï¼Œåœ°å€æ URLéƒ½ä¸ä¼šå˜åŒ–ï¼Œè¯·é—®å¦‚ä½•æ‰¾åˆ°çœŸå®çš„æœç´¢URLåœ°å€ï¼Ÿ - çŸ¥ä¹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Alfredå¦‚ä½•æ·»åŠ çŸ¥ç½‘æœç´¢? - ç¨‹å¼•çš„å›ç­” - çŸ¥ä¹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Alfredå¦‚ä½•æ·»åŠ çŸ¥ç½‘æœç´¢? - å›¾çµæµ‹è¯•æ»¡åˆ†botçš„å›ç­” - çŸ¥ä¹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","permalink":"https://fhlp.me/2022/03/utools%E6%B7%BB%E5%8A%A0%E7%9F%A5%E7%BD%91%E7%9A%84%E7%BD%91%E9%A1%B5%E5%BF%AB%E5%BC%80/","summary":"çŸ¥ç½‘é“¾æ¥  æ–°ç‰ˆçŸ¥ç½‘é“¾æ¥ï¼š  https://kns.cnki.net/kns8/defaultresult/index?txt_1_sel=SU%24%25%3D%7C\u0026amp;kw={query} 1 https://kns.cnki.net/KNS8/DefaultResult/Index?dbcode=SCDB\u0026amp;kw={query}\u0026amp;korder=SU 2 ä¸¤ä¸ªé“¾æ¥å†…å®¹æœ‰å·®åˆ«ï¼Œè‡ªå·±é€‰æ‹©åˆé€‚çš„   æ—§ç‰ˆçŸ¥ç½‘é“¾æ¥  https://epub.cnki.net/kns/brief/default_result.aspx?txt_1_sel=FT%24%25%3D|\u0026amp;txt_1_value1={query}\u0026amp;txt_1_special1=%25\u0026amp;txt_extension=\u0026amp;expertvalue=\u0026amp;cjfdcode=%C2%A4tid=txt_1_value1\u0026amp;dbJson=coreJson\u0026amp;dbPrefix=SCDB\u0026amp;db_opt=CJFQ%2CCJFN%2CCDFD%2CCMFD%2CCPFD%2CIPFD%2CCCND%2CCCJD%2CHBRD\u0026amp;db_value=\u0026amp;hidTabChange=\u0026amp;hidDivIDS=\u0026amp;singleDB=SCDB\u0026amp;db_codes=\u0026amp;singleDBName=\u0026amp;againConfigJson=false\u0026amp;action=scdbsearch\u0026amp;ua=1.11 3 https://kns.cnki.net/kns/brief/default_result.aspx?txt_1_sel=SU%24%25%3d%7C\u0026amp;txt_1_value1={query}\u0026amp;txt_1_special1=%25\u0026amp;txt_extension=\u0026amp;expertvalue=\u0026amp;cjfdcode=\u0026amp;currentid=txt_1_value1\u0026amp;dbJson=coreJson\u0026amp;dbPrefix=SCDB\u0026amp;db_opt=CJFQ%2CCJFN%2CCDFD%2CCMFD%2CCPFD%2CIPFD%2CCCND%2CCCJD%2CHBRD\u0026amp;db_value=\u0026amp;hidTabChange=\u0026amp;hidDivIDS=\u0026amp;singleDB=SCDB\u0026amp;db_codes=\u0026amp;singleDBName=\u0026amp;againConfigJson=false\u0026amp;action=scdbsearch\u0026amp;ua=1.11 4 ä¸¤ä¸ªé“¾æ¥å†…å®¹æœ‰å·®åˆ«ï¼Œè‡ªå·±é€‰æ‹©åˆé€‚çš„      æŸäº›ç½‘ç«™ï¼ˆä¾‹å¦‚çŸ¥ç½‘ï¼‰ï¼Œæ— è®ºæœç´¢ä»€ä¹ˆï¼Œåœ°å€æ URLéƒ½ä¸ä¼šå˜åŒ–ï¼Œè¯·é—®å¦‚ä½•æ‰¾åˆ°çœŸå®çš„æœç´¢URLåœ°å€ï¼Ÿ - è€é»˜çš„å›ç­” - çŸ¥ä¹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n æŸäº›ç½‘ç«™ï¼ˆä¾‹å¦‚çŸ¥ç½‘ï¼‰ï¼Œæ— è®ºæœç´¢ä»€ä¹ˆï¼Œåœ°å€æ URLéƒ½ä¸ä¼šå˜åŒ–ï¼Œè¯·é—®å¦‚ä½•æ‰¾åˆ°çœŸå®çš„æœç´¢URLåœ°å€ï¼Ÿ - çŸ¥ä¹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Alfredå¦‚ä½•æ·»åŠ çŸ¥ç½‘æœç´¢? - ç¨‹å¼•çš„å›ç­” - çŸ¥ä¹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Alfredå¦‚ä½•æ·»åŠ çŸ¥ç½‘æœç´¢? - å›¾çµæµ‹è¯•æ»¡åˆ†botçš„å›ç­” - çŸ¥ä¹\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","title":"utoolsæ·»åŠ çŸ¥ç½‘çš„ç½‘é¡µå¿«å¼€"},{"content":"è¯»å–å›¾ç‰‡ \tcv2.imread('',img) æ”¹å˜å›¾ç‰‡å¤§å°  cv2.resize(img, (300,300)) cv2.resize(img, (0,0),fx=0.5,fy=0.5) fx,fy ç¼©æ”¾å€æ•° è¯»å–è§†é¢‘ \t# è¯»å–å·²ç»ä¿å­˜çš„è§†é¢‘ cv2.VideoCapture('voideo.mp4') # è¯»å–é•œå¤´è§†é¢‘ï¼Œé€šè¿‡ç¼–å·é€‰æ‹©é•œå¤´ # å‡è®¾ç¬”è®°æœ¬æœ‰ä¸¤ä¸ªé•œå¤´ï¼Œé‚£ä¹ˆç”µè„‘è‡ªå¸¦é•œå¤´ç¼–å·0ï¼Œå¤–æ¥é•œå¤´ç¼–å·1 cap = cv2.VideoCapture(1) # é€å¸§æ˜¾ç¤ºè§†é¢‘ while Ture: # è¯»å–ä¸‹ä¸€å¸§ ret,frame=cap.read() # ret å–å¾—ä¸‹ä¸€å¸§æ˜¯å¦æˆåŠŸ # frame å–å¾—çš„ä¸‹ä¸€å¸§ # åˆ¤æ–­è§†é¢‘å¸§æ˜¯å¦è¯»å–æˆåŠŸ if ret: # æŠŠæ¯å¸§çš„å›¾åƒç¼©æ”¾0.4å€ frame = cv2.resize(frame,(0,0),fx=0.4,fy=0.4) cv2.imshow('video',frame) else: break # æ¯ä¸ªåæ¯«ç§’æ˜¾ç¤ºä¸€å¸§è§†é¢‘ï¼Œç­‰å¾…ä¸­æŒ‰ q ä¸­æ­¢æ’­æ”¾ if cv2.waitkey(10) == ord('q'): break numpy ä¸å›¾ç‰‡çš„å…³ç³» æ‰“å°ä¸€å¼ å›¾ç‰‡çš„ç±»å‹\n\tprint(img) print(type(img)) print(img.shape) è¾“å‡ºï¼š # è¾“å‡ºå›¾ç‰‡çš„è¯¦ç»†æ•°æ® [[[255 255 255] [255 255 255] [255 255 255] ... [255 255 255] [255 255 255] [255 255 255]] [[255 255 255] [255 255 255] [255 255 255] ... [255 255 255] [255 255 255] [255 255 255]]] # è¾“å‡ºå›¾ç‰‡çš„æ•°æ®ç±»å‹ï¼šndarray # ndarray å¤šç»´æ•°ç»„ \u0026lt;class 'numpy.ndarray'\u0026gt; # è¾“å‡ºå›¾ç‰‡çš„ç»´åº¦ # å½©è‰²å›¾ç‰‡å³æ˜¯RBG # åœ¨opencvä¸­ï¼Œå½©è‰²å›¾ç‰‡é¢œè‰²é¡ºåºæ˜¯ï¼šB G R (474, 474, 3) åˆ›å»ºå›¾ç‰‡\n\timport random import cv2 import numpy as np # åˆ›å»ºå›¾ç‰‡ # å›¾ç‰‡çš„å¤§å° 300*300 åƒç´  # å›¾ç‰‡çš„ç»´åº¦ 3 (RGB) # np.uiunt8 è®¾ç½®å¤šç»´æ•°ç»„ä¸­æ•°çš„æ ¼å¼ï¼Œuiuin8 æ­£æ•° # b g r 0 255 255 img = np.empty((300, 300, 3), np.uint8) for row in range(300): for col in range(300): img[row][col] = [random.randint(0, 255), random.randint(0, 255), random.randint(0, 255)] cv2.imshow('img', img) cv2.waitKey(0) åˆ‡å‰²å›¾ç‰‡\n\t# åˆ‡å‰²å›¾ç‰‡img # é«˜åº¦åæ ‡ï¼š0-150 åƒç´ ç‚¹ å®½åº¦åæ ‡ï¼š200-400åƒç´ ç‚¹ newImg=img[:150,200:400] cv2.imshow('img',img) cv2.imshow('newImg',newImg) å¸¸ç”¨å‡½æ•° å½©è‰²å›¾ç‰‡è½¬ç°åº¦å›¾ç‰‡\n\tå‚æ•°ï¼šå›¾ç‰‡ BGRè½¬ç°åº¦ imgGray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY) é«˜æ–¯æ¨¡ç³Š\n\t# å‚æ•°ï¼šå›¾ç‰‡ é«˜æ–¯æ ¸ æ ‡å‡†å·® cv2.GaussianBlur(img,(5,5),0) è¾¹ç¼˜æå–\n\t# å‚æ•°ï¼šå›¾ç‰‡ LowThreshold HighThreshold cv2.canny(img, 150, 200) å›¾ç‰‡è†¨èƒ€(å›¾ç‰‡çº¿æ¡å˜ç²—)\n\timprot numpy as np # è†¨èƒ€æ ¸ äºŒç»´æ•°ç»„ kernel = np.ones((3,3), np.unit8) # å‚æ•°ï¼šå›¾ç‰‡ è†¨èƒ€æ ¸ è†¨èƒ€æ¬¡æ•° dilate=cv2.dilate(img, kernel, iterations = 1) å›¾ç‰‡ä¾µèš€(å›¾ç‰‡çº¿æ¡å˜ç»†)\n\timprot numpy as np # è†¨èƒ€æ ¸ äºŒç»´æ•°ç»„ kernel = np.ones((3,3), np.unit8) # å‚æ•°ï¼šå›¾ç‰‡ è†¨èƒ€æ ¸ è†¨èƒ€æ¬¡æ•° erode=cv2.erode(img, kernel, iterations = 1) åœ¨å›¾ç‰‡ä¸­ç”»å›¾å½¢ï¼Œå†™å­— \timport cv2 import numpy as np # åˆ›å»ºå›¾ç‰‡ img = np.zeros((600, 600, 3), np.uint8) # å›¾ç‰‡ä¸­ç”»çº¿ # å‚æ•°ï¼šå›¾ç‰‡ èµ·å§‹ç‚¹åæ ‡ ç»ˆç‚¹åæ ‡ çº¿çš„é¢œè‰² çº¿çš„å®½åº¦ cv2.line(img, (0, 0), (400, 400), (255, 255, 255), 1) # ç”»çŸ©å½¢ # æœ€åä¸€ä¸ªå‚æ•° cv2.FILED çŸ©å½¢å¡«å……ï¼Œå¦‚æœæ˜¯æ•°å­—åˆ™æ˜¯è¾¹ç¼˜çº¿æ¡å®½åº¦ cv2.rectangle(img, (0, 0), (400, 300), (255, 255, 255), cv2.FILED) # ç”»åœ† # å‚æ•° å›¾ç‰‡ åœ†å¿ƒåæ ‡ åŠå¾„ è¾¹ç¼˜çº¿æ¡é¢œè‰² è¾¹ç¼˜çº¿æ¡å®½åº¦ cv2.circle(img, (400,500), 20, (255, 255, 255), 1) # æ·»åŠ æ–‡å­—ï¼ˆä¸æ”¯æŒä¸­æ–‡ï¼‰ # å‚æ•°ï¼šå›¾ç‰‡ æ·»åŠ çš„æ–‡å­— èµ·å§‹ç‚¹åæ ‡ æ–‡å­—å­—ä½“ æ–‡å­—å¤§å° æ–‡å­—é¢œè‰² æ–‡å­—çº¿æ¡å®½åº¦ cv2.putText(img, 'Hi', (100, 500), cv2.FONT_ITALIC, 1, (255, 255, 255), 1) cv2.imshow('img', img) cv2.waitKey(0) æ£€æµ‹å›¾ç‰‡é¢œè‰² \timport cv2 import numpy as np def empty(v): pass img = cv2.imread('xx,jpg') img = cv2.resize(img, (0, 0), fx=1, fy=1) # åˆ›å»ºä¸€ä¸ª TrackBar æ§åˆ¶ç•Œé¢ # é€šè¿‡ TrackBar æ‰‹åŠ¨è°ƒèŠ‚æ£€æµ‹é¢œè‰² # æŠŠ img ä» BGR é¢œè‰²ç©ºé—´è½¬æ¢æˆ HSV é¢œè‰²ç©ºé—´ cv2.namedWindow('TrackBar') cv2.resizeWindow('TrackBar', 640, 320) cv2.createTrackbar('hug min', 'TrackBar', 0, 179, empty) cv2.createTrackbar('hug max', 'TrackBar', 179, 179, empty) cv2.createTrackbar('sar min', 'TrackBar', 0, 255, empty) cv2.createTrackbar('sar max', 'TrackBar', 255, 255, empty) cv2.createTrackbar('val min', 'TrackBar', 0, 255, empty) cv2.createTrackbar('val max', 'TrackBar', 255, 255, empty) hsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV) # æ‰‹åŠ¨é€‰æ‹©é¢œè‰² while True: h_min = cv2.getTrackbarPos('hug min', 'TrackBar') h_max = cv2.getTrackbarPos('hug max', 'TrackBar') s_min = cv2.getTrackbarPos('sar min', 'TrackBar') s_max = cv2.getTrackbarPos('sar max', 'TrackBar') v_min = cv2.getTrackbarPos('val min', 'TrackBar') v_max = cv2.getTrackbarPos('val max', 'TrackBar') print(h_min, h_max, s_min, s_max, v_min, v_max) lower = np.array([h_min, s_min, v_min]) upper = np.array([h_max, s_max, v_max]) # è·å–åœ¨ lower ä¸ upper èŒƒå›´å†…çš„é¢œè‰² mask = cv2.inRange(hsv, lowerb=lower, upperb=upper) # æŠŠä¸¤å¼ å›¾ç‰‡ä¸­çš„æ¯ä¸€ä¸ªbitåš and è¿ç®— # åœ¨ img å›¾ç‰‡ä¸­æŠŠ mask å›¾ç‰‡è¿‡æ»¤å‡ºæ¥ result = cv2.bitwise_and(img, img, mask=mask) cv2.imshow('img', img) cv2.imshow('hsv', hsv) cv2.imshow('msak', mask) cv2.imshow('result', result) cv2.waitKey(1) è½®å»“æ£€æµ‹ \timport cv2 img = cv2.imread('shape.jpg') imgContour = img.copy() # img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY) canny = cv2.Canny(img, 100, 200) # è½®å»“æ£€æµ‹ # å‚æ•°ï¼šå›¾ç‰‡ æ£€æµ‹æ¨¡å¼ï¼ˆå¤–è½®å»“ã€å†…è½®å»“ã€‚ã€‚ï¼‰ è¿‘ä¼¼æ–¹æ³• # è¿”å›å‚æ•°ï¼šè½®å»“ é˜¶å±‚ contours, hierarchy = cv2.findContours(canny, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE) # æŠŠè½®å»“ç”»å‡ºæ¥ for cnt in contours: # # å‚æ•°ï¼šå›¾ç‰‡ å›¾å»“ç‚¹ ç”»çš„è½®å»“æ•°é‡ é¢œè‰² å®½åº¦ cv2.drawContours(imgContour, cnt, -1, (255, 0, 0), 4) # è½®å»“é¢ç§¯ area = cv2.contourArea(cnt) # é€šè¿‡é¢ç§¯å¤§å°æ¥è¿‡æ»¤å™ªç‚¹ é¢ç§¯å¤§äº 500 å¯¹è½®å»“è¿›è¡Œè¿‘ä¼¼ if area \u0026gt; 500: # è½®å»“è¾¹é•¿ peri = cv2.arcLength(cnt, True) # è½®å»“è¿‘ä¼¼æˆå›¾å½¢ # è¾“å…¥å‚æ•°ï¼šè½®å»“ è¿‘ä¼¼å€¼ æ˜¯å¦æ˜¯å°é—­å›¾å½¢ # è¾“å‡ºå‚æ•°ï¼šè¿‘ä¼¼å›¾å½¢çš„é¡¶ç‚¹ vertices = cv2.approxPolyDP(cnt, peri * 0.02, True) # è¿‘ä¼¼è½®å»“é¡¶ç‚¹ corners = len(vertices) # print(vertices) # å¯¹æ¯ä¸ªè½®å»“ç”Ÿæˆå¤–æ¥çŸ©å½¢ # è¾“å‡ºå‚æ•°ï¼šéœ€è¦ç”Ÿæˆå¤–æ¥çŸ©å½¢çš„è½®å»“ # è¾“å‡ºå‚æ•°ï¼šå·¦ä¸Šè§’xåæ ‡ å·¦ä¸Šè§’yåæ ‡ å®½åº¦ é«˜åº¦ x, y, w, h = cv2.boundingRect(vertices) # åœ¨å›¾ç‰‡ä¸­ç”»å‡ºå¤–æ¥çŸ©å½¢ # è¾“å…¥å‚æ•°ï¼šå›¾ç‰‡ å·¦ä¸Šè§’é¡¶ç‚¹åæ ‡ å³ä¸‹è§’é¡¶ç‚¹åæ ‡ é¢œè‰² å®½åº¦ cv2.rectangle(img, (x, y), (x + w, y + h), (0, 255, 0), 4) # é€šè¿‡è¿‘ä¼¼è½®å»“æœ‰å‡ ä¸ªé¡¶ç‚¹åˆ¤æ–­è½®å»“çš„å½¢çŠ¶ if corners == 3: cv2.putText(imgContour, 'Triangle', (x, y - 5), cv2.FONT_ITALIC, 1, (0, 0, 255), 2) if corners == 4: cv2.putText(imgContour, 'Rectangle', (x, y - 5), cv2.FONT_ITALIC, 1, (0, 0, 255), 2) if corners == 5: cv2.putText(imgContour, 'Pentagon', (x, y - 5), cv2.FONT_ITALIC, 1, (0, 0, 255), 2) if corners \u0026gt; 5: cv2.putText(imgContour, 'Circle', (x, y - 5), cv2.FONT_ITALIC, 1, (0, 0, 255), 2) cv2.imshow('img', img) cv2.imshow('canny', canny) cv2.imshow('imgContour', imgContour) cv2.waitKey(0) äººè„¸è¯†åˆ« \timport cv2 img = cv2.imread('lenna.jpg') # å½©è‰²å›¾ç‰‡è½¬ç°åº¦å›¾ç‰‡ gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY) # å¯¼å…¥Cascadeåˆ†ç±»å™¨ # face_detect.xml ä¸ºopencv å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹ faceCascade = cv2.CascadeClassifier('face_detect.xml') # è¾“å…¥å‚æ•°ï¼šå›¾ç‰‡ åœ¨å¤šæ¬¡å…¨å±€æœç´¢ä¸­å›¾ç‰‡ç¼©å°çš„ç¬”è®°ï¼Œå³å°ºåº¦æ”¾å¤§çš„æ¯”ä¾‹ æœ€å¤§åŒ–æŠ‘åˆ¶çš„æ¬¡æ•°ï¼Œäººè„¸è¢«é€‰ä¸­ä¸‰æ¬¡ä»¥ä¸Šæ‰åˆ¤æ–­ä¸ºäººè„¸ faceRect = faceCascade.detectMultiScale(gray, 1.1, 3) print(len(faceRect)) for (x, y, w, h) in faceRect: cv2.rectangle(img, (x, y), (x + w, y + h), (0, 0, 255), 2) cv2.imshow('img', img) cv2.waitKey(0) project  é€šè¿‡é•œå¤´è·å–ç”»é¢ æ‰‹æ‹¿ç¬”åœ¨é•œå¤´ä¸­è¿åŠ¨ åœ¨çª—å£ä¸­æ ‡è®°ç¬”çš„è¿åŠ¨è½¨è¿¹ å¯¹äºå¤šæ”¯ç¬”çš„è½¨è¿¹ï¼Œé€šè¿‡ä¸åŒé¢œè‰²æ ‡è®°å‡ºæ¥  \timport cv2 import numpy as np video = cv2.VideoCapture(0) # [x,y,c] drawPoints = [] def findPen(img): hsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV) lower = np.array([28, 35, 83]) upper = np.array([55, 255, 232]) mask = cv2.inRange(hsv, lower, upper) result = cv2.bitwise_and(img, img, mask=mask) penx, peny = findContour(mask) cv2.circle(imgContour, (penx, peny), 5, (0, 0, 255), cv2.FILLED) if peny != -1: drawPoints.append([penx, peny]) # cv2.imshow('result', result) def findContour(img): # è½®å»“æ£€æµ‹ # å‚æ•°ï¼šå›¾ç‰‡ æ£€æµ‹æ¨¡å¼ï¼ˆå¤–è½®å»“ã€å†…è½®å»“ã€‚ã€‚ï¼‰ è¿‘ä¼¼æ–¹æ³• # è¿”å›å‚æ•°ï¼šè½®å»“ é˜¶å±‚ contours, hierarchy = cv2.findContours(img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE) x, y, w, h = 0, 0, 0, 0 # æŠŠè½®å»“ç”»å‡ºæ¥ for cnt in contours: # # å‚æ•°ï¼šå›¾ç‰‡ å›¾å»“ç‚¹ ç”»çš„è½®å»“æ•°é‡ é¢œè‰² å®½åº¦ # cv2.drawContours(imgContour, cnt, -1, (255, 0, 0), 4) # è½®å»“é¢ç§¯ area = cv2.contourArea(cnt) # é€šè¿‡é¢ç§¯å¤§å°æ¥è¿‡æ»¤å™ªç‚¹ é¢ç§¯å¤§äº 500 å¯¹è½®å»“è¿›è¡Œè¿‘ä¼¼ if area \u0026gt; 500: # è½®å»“è¾¹é•¿ peri = cv2.arcLength(cnt, True) # è½®å»“è¿‘ä¼¼æˆå›¾å½¢ # è¾“å…¥å‚æ•°ï¼šè½®å»“ è¿‘ä¼¼å€¼ æ˜¯å¦æ˜¯å°é—­å›¾å½¢ # è¾“å‡ºå‚æ•°ï¼šè¿‘ä¼¼å›¾å½¢çš„é¡¶ç‚¹ vertices = cv2.approxPolyDP(cnt, peri * 0.02, True) # print(vertices) # å¯¹æ¯ä¸ªè½®å»“ç”Ÿæˆå¤–æ¥çŸ©å½¢ # è¾“å‡ºå‚æ•°ï¼šéœ€è¦ç”Ÿæˆå¤–æ¥çŸ©å½¢çš„è½®å»“ # è¾“å‡ºå‚æ•°ï¼šå·¦ä¸Šè§’xåæ ‡ å·¦ä¸Šè§’yåæ ‡ å®½åº¦ é«˜åº¦ x, y, w, h = cv2.boundingRect(vertices) return x + w // 2, y + h // 2 def draw(drawPoints): for point in drawPoints: cv2.circle(imgContour, (point[0], point[1]), 5, (0, 0, 255), cv2.FILLED) while True: ret, frame = video.read() if ret: cv2.imshow('video', frame) imgContour = frame.copy() findPen(frame) draw(drawPoints) cv2.imshow('contour', imgContour) else: break if cv2.waitKey(1) == ord('q'): break ","permalink":"https://fhlp.me/2022/02/python%E7%9A%84opencv%E5%85%A5%E9%97%A8/","summary":"è¯»å–å›¾ç‰‡ \tcv2.imread('',img) æ”¹å˜å›¾ç‰‡å¤§å°  cv2.resize(img, (300,300)) cv2.resize(img, (0,0),fx=0.5,fy=0.5) fx,fy ç¼©æ”¾å€æ•° è¯»å–è§†é¢‘ \t# è¯»å–å·²ç»ä¿å­˜çš„è§†é¢‘ cv2.VideoCapture('voideo.mp4') # è¯»å–é•œå¤´è§†é¢‘ï¼Œé€šè¿‡ç¼–å·é€‰æ‹©é•œå¤´ # å‡è®¾ç¬”è®°æœ¬æœ‰ä¸¤ä¸ªé•œå¤´ï¼Œé‚£ä¹ˆç”µè„‘è‡ªå¸¦é•œå¤´ç¼–å·0ï¼Œå¤–æ¥é•œå¤´ç¼–å·1 cap = cv2.VideoCapture(1) # é€å¸§æ˜¾ç¤ºè§†é¢‘ while Ture: # è¯»å–ä¸‹ä¸€å¸§ ret,frame=cap.read() # ret å–å¾—ä¸‹ä¸€å¸§æ˜¯å¦æˆåŠŸ # frame å–å¾—çš„ä¸‹ä¸€å¸§ # åˆ¤æ–­è§†é¢‘å¸§æ˜¯å¦è¯»å–æˆåŠŸ if ret: # æŠŠæ¯å¸§çš„å›¾åƒç¼©æ”¾0.4å€ frame = cv2.resize(frame,(0,0),fx=0.4,fy=0.4) cv2.imshow('video',frame) else: break # æ¯ä¸ªåæ¯«ç§’æ˜¾ç¤ºä¸€å¸§è§†é¢‘ï¼Œç­‰å¾…ä¸­æŒ‰ q ä¸­æ­¢æ’­æ”¾ if cv2.waitkey(10) == ord('q'): break numpy ä¸å›¾ç‰‡çš„å…³ç³» æ‰“å°ä¸€å¼ å›¾ç‰‡çš„ç±»å‹\n\tprint(img) print(type(img)) print(img.shape) è¾“å‡ºï¼š # è¾“å‡ºå›¾ç‰‡çš„è¯¦ç»†æ•°æ® [[[255 255 255] [255 255 255] [255 255 255] .","title":"pythonçš„opencvå…¥é—¨"},{"content":"é»˜è®¤æè¿°æœºå™¨è§†è§‰ä¸­çš„æ¦‚å¿µã€‚\nå·ç§¯  å·ç§¯çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿâ†’æå–å›¾åƒç‰¹å¾ï¼Œå»é™¤å™ªç‚¹ å·ç§¯æ˜¯ä»€ä¹ˆï¼Ÿâ†’æŠŠå½“å‰ç‚¹å’Œå‘¨å›´ç‚¹åŠ æƒå¹³å‡ å·ç§¯è®¡ç®—å…¬å¼ï¼š$$(ğ‘“ âˆ— ğ‘”)[ğ‘š, ğ‘›] = \\sum_{k,l} ğ‘“[ğ‘š âˆ’ ğ‘˜, ğ‘› âˆ’ ğ‘™]ğ‘”[ğ‘˜, ğ‘™]$$  å·ç§¯æ ¸  å·ç§¯æ ¸æ˜¯ä»€ä¹ˆï¼Ÿâ†’å½“å‰ç‚¹ä¸å‘¨å›´ç‚¹åŠ æƒå¹³å‡çš„æƒå€¼ å¦‚ä½•è¿›è¡Œå·ç§¯ï¼Ÿ  å¯¹å·ç§¯æ ¸è¿›è¡Œç¿»è½¬ â‡’ æŠŠå·ç§¯æ ¸æ”¾å…¥å›¾åƒä¸­  æŠŠå·ç§¯æ ¸ä¸­å„ä¸ªç‚¹ä¸åœ¨å›¾åƒä¸­å¯¹åº”ç‚¹åŠ æƒæ±‚å’Œï¼Œå¾—åˆ°ä¸­é—´ç‚¹ e çš„å€¼ å·ç§¯æ ¸å¹³ç§»ã€ä¸‹æ»‘ï¼Œå¯¹æ‰€æœ‰ç‚¹è¿›è¡Œå·ç§¯è¿ç®—    å·ç§¯çš„ç‰¹æ€§  çº¿æ€§ï¼šåˆ†å¼€æ±‚å’Œä¸ç»„åˆæ±‚å’Œç»“æœä¸å˜  Linearity: filter(f1 + f2) = filter(f1) + filter(f2)   å¹³ç§»ä¸å˜æ€§ï¼šå…ˆå·ç§¯å†å¹³ç§»ä¸å…ˆå¹³ç§»å†å·ç§¯ç»“æœä¸å˜  Shift invariance: same behavior regardless of pixel location: filter(shift(f)) = shift(filter(f)) ç»“è®ºï¼šä»»ä½•å¹³ç§»ä¸å˜çš„æ“ä½œéƒ½èƒ½ç”¨å·ç§¯æ¥è¡¨ç¤º  Theoretical result: any linear shift-invariant operator can be r epresented as a convolution å›¾åƒå‘å·¦å¹³ç§»ä¸€ä¸ªåƒç´          äº¤æ¢å¾‹  Commutative: $a * b = b * a$ Conceptually no difference between filter and signal   ç»“åˆå¾‹  Associative: $a * (b * c) = (a * b) * c$ Often apply several filters one after another: $(((a * b1) * b2) * b3)$ This is equivalent to applying one filter: $a * (b1 * b2 * b3)$   åˆ†é…å¾‹  Distributes over addition: $a * (b + c) = (a * b) + (a * c)$ Scalars factor out: $ka * b = a * kb = k (a * b)$ Identity: unit impulse $e = [â€¦, 0, 0, 1, 0, 0, â€¦],a * e = a$    å·ç§¯ä¸ºä»€ä¹ˆè¦ç¿»è½¬  æ¨¡æ¿ä¸åè½¬ç§°ä¸ºç›¸å…³ åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¾ˆå¤šæ¨¡æ¿éƒ½æ˜¯å¯¹ç§°çš„ï¼Œå¹¶ä¸å¼ºè°ƒç¿»è½¬ æ•°å­¦ä¸­å·ç§¯ï¼Œä¸»è¦æ˜¯ä¸ºäº†è¯¸å¦‚ä¿¡å·å¤„ç†ã€æ±‚ä¸¤ä¸ªéšæœºå˜é‡å’Œçš„åˆ†å¸ƒç­‰è€Œå®šä¹‰çš„è¿ç®—ï¼Œæ‰€ä»¥éœ€è¦â€œç¿»è½¬â€æ˜¯æ ¹æ®é—®é¢˜çš„éœ€è¦è€Œç¡®å®šçš„ å·ç§¯ç¥ç»ç½‘ç»œä¸­â€œå·ç§¯â€ï¼Œæ˜¯ä¸ºäº†æå–å›¾åƒçš„ç‰¹å¾ï¼Œå…¶å®åªå€Ÿé‰´äº†â€œåŠ æƒæ±‚å’Œâ€çš„ç‰¹ç‚¹ è¿˜æœ‰ä¸€ç‚¹ä¸€å®šè¦è¯´çš„æ˜¯ï¼šæ•°å­¦ä¸­çš„â€œå·ç§¯æ ¸â€éƒ½æ˜¯å·²çŸ¥çš„æˆ–è€…ç»™å®šçš„ï¼Œå·ç§¯ç¥ç»ç½‘ç»œä¸­â€œå·ç§¯æ ¸â€æœ¬æ¥å°±æ˜¯trainableçš„å‚æ•°ï¼Œä¸æ˜¯ç»™å®šçš„ï¼Œæ ¹æ®æ•°æ®è®­ç»ƒå­¦ä¹ çš„ï¼Œé‚£ä¹ˆç¿»ä¸ç¿»è½¬è¿˜æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿå› ä¸ºæ— è®ºç¿»è½¬ä¸å¦å¯¹åº”çš„éƒ½æ˜¯æœªçŸ¥å‚æ•°ï¼ äºŒç»´å·ç§¯åœ¨å›¾åƒå¤„ç†ä¸­çš„åº”ç”¨å°±æ˜¯ä¸ºäº†æå–ç‰¹å¾ï¼Œå¦‚é«˜é€šæ»¤æ³¢å™¨æå–è¾¹ç¼˜ç‰¹å¾å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§å±€éƒ¨ç‰¹å¾æå–ï¼Œä½é€šæ»¤æ³¢å™¨è¿›è¡Œå»å™ªå¹³æ»‘å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§å…¨å±€ç‰¹å¾æå–ï¼Œè€Œåœ¨ç¥ç»ç½‘ç»œä¸­å¯¹äºä¸€ä¸ªå›¾åƒçš„åˆ†ç±»ä»»åŠ¡æ¥è¯´ï¼Œæˆ‘ä»¬å¹¶ä¸æ¸…æ¥šå›¾åƒä¸­å“ªä¸€éƒ¨ä½åº”è¯¥æå–å…¨å±€ç‰¹å¾è¿˜æ˜¯å±€éƒ¨ç‰¹å¾ï¼Œå› æ­¤å·ç§¯æ ¸å°±å˜æˆäº†å¯è®­ç»ƒçš„å‚æ•°ï¼Œæ ¹æ®è¯¯å·®å‡½æ•°æ¥ç¡®å®šå“ªä¸€éƒ¨ä½åº”è¯¥æå–å“ªä¸€ç§ç‰¹å¾ï¼Œè¿™å°±æ˜¯ç¥ç»ç½‘ç»œä¸­å·ç§¯æ ¸ä¹‹æ‰€ä»¥ä¸ºå‚æ•°çš„æœ¬è´¨ï¼Œä»¥ç»“æœä¸ºå¯¼å‘ï¼Œè€Œä¸åƒæ•°å­¦ä¸­çš„å·ç§¯æœ‰æ˜ç¡®çš„ç›®æ ‡ã€‚  å­˜åœ¨çš„é—®é¢˜  å·ç§¯å­˜åœ¨çš„é—®é¢˜â†’å¯¹åŸå›¾åƒè¿›è¡Œå·ç§¯ï¼Œå·ç§¯å›¾åƒä¼šæ¯”åŸå›¾åƒå°ä¸€åœˆ     å¦‚ä½•ä¿è¯å·ç§¯å›¾åƒå’ŒåŸå›¾åƒä¸€æ ·å¤§å°?â†’éœ€è¦å¯¹å‘¨å›´ä¸€åœˆè¿›è¡Œå¡«å…… å·ç§¯å¸¸è§å¡«å……æ–¹æ³•  clip filter (black) wrap around copy edge reflect across edge   å·ç§¯å¡«å……çš„ç›®çš„ï¼šè®©è¾“å…¥å’Œè¾“å‡ºçš„å›¾åƒå¤§å°ç›¸ç­‰  ","permalink":"https://fhlp.me/2022/02/convolutions/","summary":"é»˜è®¤æè¿°æœºå™¨è§†è§‰ä¸­çš„æ¦‚å¿µã€‚\nå·ç§¯  å·ç§¯çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿâ†’æå–å›¾åƒç‰¹å¾ï¼Œå»é™¤å™ªç‚¹ å·ç§¯æ˜¯ä»€ä¹ˆï¼Ÿâ†’æŠŠå½“å‰ç‚¹å’Œå‘¨å›´ç‚¹åŠ æƒå¹³å‡ å·ç§¯è®¡ç®—å…¬å¼ï¼š$$(ğ‘“ âˆ— ğ‘”)[ğ‘š, ğ‘›] = \\sum_{k,l} ğ‘“[ğ‘š âˆ’ ğ‘˜, ğ‘› âˆ’ ğ‘™]ğ‘”[ğ‘˜, ğ‘™]$$  å·ç§¯æ ¸  å·ç§¯æ ¸æ˜¯ä»€ä¹ˆï¼Ÿâ†’å½“å‰ç‚¹ä¸å‘¨å›´ç‚¹åŠ æƒå¹³å‡çš„æƒå€¼ å¦‚ä½•è¿›è¡Œå·ç§¯ï¼Ÿ  å¯¹å·ç§¯æ ¸è¿›è¡Œç¿»è½¬ â‡’ æŠŠå·ç§¯æ ¸æ”¾å…¥å›¾åƒä¸­  æŠŠå·ç§¯æ ¸ä¸­å„ä¸ªç‚¹ä¸åœ¨å›¾åƒä¸­å¯¹åº”ç‚¹åŠ æƒæ±‚å’Œï¼Œå¾—åˆ°ä¸­é—´ç‚¹ e çš„å€¼ å·ç§¯æ ¸å¹³ç§»ã€ä¸‹æ»‘ï¼Œå¯¹æ‰€æœ‰ç‚¹è¿›è¡Œå·ç§¯è¿ç®—    å·ç§¯çš„ç‰¹æ€§  çº¿æ€§ï¼šåˆ†å¼€æ±‚å’Œä¸ç»„åˆæ±‚å’Œç»“æœä¸å˜  Linearity: filter(f1 + f2) = filter(f1) + filter(f2)   å¹³ç§»ä¸å˜æ€§ï¼šå…ˆå·ç§¯å†å¹³ç§»ä¸å…ˆå¹³ç§»å†å·ç§¯ç»“æœä¸å˜  Shift invariance: same behavior regardless of pixel location: filter(shift(f)) = shift(filter(f)) ç»“è®ºï¼šä»»ä½•å¹³ç§»ä¸å˜çš„æ“ä½œéƒ½èƒ½ç”¨å·ç§¯æ¥è¡¨ç¤º  Theoretical result: any linear shift-invariant operator can be r epresented as a convolution å›¾åƒå‘å·¦å¹³ç§»ä¸€ä¸ªåƒç´          äº¤æ¢å¾‹  Commutative: $a * b = b * a$ Conceptually no difference between filter and signal   ç»“åˆå¾‹  Associative: $a * (b * c) = (a * b) * c$ Often apply several filters one after another: $(((a * b1) * b2) * b3)$ This is equivalent to applying one filter: $a * (b1 * b2 * b3)$   åˆ†é…å¾‹  Distributes over addition: $a * (b + c) = (a * b) + (a * c)$ Scalars factor out: $ka * b = a * kb = k (a * b)$ Identity: unit impulse $e = [â€¦, 0, 0, 1, 0, 0, â€¦],a * e = a$    å·ç§¯ä¸ºä»€ä¹ˆè¦ç¿»è½¬  æ¨¡æ¿ä¸åè½¬ç§°ä¸ºç›¸å…³ åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¾ˆå¤šæ¨¡æ¿éƒ½æ˜¯å¯¹ç§°çš„ï¼Œå¹¶ä¸å¼ºè°ƒç¿»è½¬ æ•°å­¦ä¸­å·ç§¯ï¼Œä¸»è¦æ˜¯ä¸ºäº†è¯¸å¦‚ä¿¡å·å¤„ç†ã€æ±‚ä¸¤ä¸ªéšæœºå˜é‡å’Œçš„åˆ†å¸ƒç­‰è€Œå®šä¹‰çš„è¿ç®—ï¼Œæ‰€ä»¥éœ€è¦â€œç¿»è½¬â€æ˜¯æ ¹æ®é—®é¢˜çš„éœ€è¦è€Œç¡®å®šçš„ å·ç§¯ç¥ç»ç½‘ç»œä¸­â€œå·ç§¯â€ï¼Œæ˜¯ä¸ºäº†æå–å›¾åƒçš„ç‰¹å¾ï¼Œå…¶å®åªå€Ÿé‰´äº†â€œåŠ æƒæ±‚å’Œâ€çš„ç‰¹ç‚¹ è¿˜æœ‰ä¸€ç‚¹ä¸€å®šè¦è¯´çš„æ˜¯ï¼šæ•°å­¦ä¸­çš„â€œå·ç§¯æ ¸â€éƒ½æ˜¯å·²çŸ¥çš„æˆ–è€…ç»™å®šçš„ï¼Œå·ç§¯ç¥ç»ç½‘ç»œä¸­â€œå·ç§¯æ ¸â€æœ¬æ¥å°±æ˜¯trainableçš„å‚æ•°ï¼Œä¸æ˜¯ç»™å®šçš„ï¼Œæ ¹æ®æ•°æ®è®­ç»ƒå­¦ä¹ çš„ï¼Œé‚£ä¹ˆç¿»ä¸ç¿»è½¬è¿˜æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿå› ä¸ºæ— è®ºç¿»è½¬ä¸å¦å¯¹åº”çš„éƒ½æ˜¯æœªçŸ¥å‚æ•°ï¼ äºŒç»´å·ç§¯åœ¨å›¾åƒå¤„ç†ä¸­çš„åº”ç”¨å°±æ˜¯ä¸ºäº†æå–ç‰¹å¾ï¼Œå¦‚é«˜é€šæ»¤æ³¢å™¨æå–è¾¹ç¼˜ç‰¹å¾å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§å±€éƒ¨ç‰¹å¾æå–ï¼Œä½é€šæ»¤æ³¢å™¨è¿›è¡Œå»å™ªå¹³æ»‘å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§å…¨å±€ç‰¹å¾æå–ï¼Œè€Œåœ¨ç¥ç»ç½‘ç»œä¸­å¯¹äºä¸€ä¸ªå›¾åƒçš„åˆ†ç±»ä»»åŠ¡æ¥è¯´ï¼Œæˆ‘ä»¬å¹¶ä¸æ¸…æ¥šå›¾åƒä¸­å“ªä¸€éƒ¨ä½åº”è¯¥æå–å…¨å±€ç‰¹å¾è¿˜æ˜¯å±€éƒ¨ç‰¹å¾ï¼Œå› æ­¤å·ç§¯æ ¸å°±å˜æˆäº†å¯è®­ç»ƒçš„å‚æ•°ï¼Œæ ¹æ®è¯¯å·®å‡½æ•°æ¥ç¡®å®šå“ªä¸€éƒ¨ä½åº”è¯¥æå–å“ªä¸€ç§ç‰¹å¾ï¼Œè¿™å°±æ˜¯ç¥ç»ç½‘ç»œä¸­å·ç§¯æ ¸ä¹‹æ‰€ä»¥ä¸ºå‚æ•°çš„æœ¬è´¨ï¼Œä»¥ç»“æœä¸ºå¯¼å‘ï¼Œè€Œä¸åƒæ•°å­¦ä¸­çš„å·ç§¯æœ‰æ˜ç¡®çš„ç›®æ ‡ã€‚  å­˜åœ¨çš„é—®é¢˜  å·ç§¯å­˜åœ¨çš„é—®é¢˜â†’å¯¹åŸå›¾åƒè¿›è¡Œå·ç§¯ï¼Œå·ç§¯å›¾åƒä¼šæ¯”åŸå›¾åƒå°ä¸€åœˆ     å¦‚ä½•ä¿è¯å·ç§¯å›¾åƒå’ŒåŸå›¾åƒä¸€æ ·å¤§å°?","title":"Convolutions"}]